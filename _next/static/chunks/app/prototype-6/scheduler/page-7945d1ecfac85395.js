(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7726],{1952:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>n});var t=r(5155),s=r(2115),d=r(5695);let i=[{id:"mat1",name:"Concrete Mix",category:"Concrete",unit:"cubic yard",leadTime:2,availability:"high",price:125},{id:"mat2",name:"Rebar #4",category:"Steel",unit:"ton",leadTime:5,availability:"medium",price:980},{id:"mat3",name:"Lumber 2x4",category:"Wood",unit:"board feet",leadTime:3,availability:"medium",price:4.5},{id:"mat4",name:'Gravel 3/4"',category:"Aggregate",unit:"ton",leadTime:1,availability:"high",price:38},{id:"mat5",name:"Sand",category:"Aggregate",unit:"ton",leadTime:1,availability:"high",price:42},{id:"mat6",name:"Cement",category:"Binding",unit:"bag",leadTime:3,availability:"high",price:12},{id:"mat7",name:"Steel Beams",category:"Steel",unit:"ton",leadTime:14,availability:"low",price:1200},{id:"mat8",name:"Roofing Shingles",category:"Roofing",unit:"square",leadTime:7,availability:"medium",price:75}],l=[{id:"sup1",name:"BuildRight Materials",reliability:4.5,materialIds:["mat1","mat4","mat5","mat6"]},{id:"sup2",name:"Steel Dynamics",reliability:4.2,materialIds:["mat2","mat7"]},{id:"sup3",name:"Lumber Solutions",reliability:3.8,materialIds:["mat3"]},{id:"sup4",name:"Complete Supply Co.",reliability:4,materialIds:["mat1","mat2","mat3","mat4","mat5","mat6","mat8"]},{id:"sup5",name:"RoofPro Supplies",reliability:4.7,materialIds:["mat8"]}];function n(){(0,d.useRouter)();let[e,a]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),[c,o]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[h,g]=(0,s.useState)([]),[y,p]=(0,s.useState)(null),[u,b]=(0,s.useState)(!1),[j,v]=(0,s.useState)(""),[N,f]=(0,s.useState)(0),[k,w]=(0,s.useState)("setup"),[S,D]=(0,s.useState)(!1),[C,P]=(0,s.useState)(!1),M=()=>"id-".concat(Math.random().toString(36).substr(2,9)),T=e=>{g(h.filter(a=>a.id!==e))},I=e=>{y&&p({...y,materials:y.materials.filter(a=>a.id!==e)})},z=()=>{p({id:"",name:"",startDate:"",endDate:"",materials:[]}),b(!0)},R=e=>{let a=h.find(a=>a.id===e);a&&(p(a),b(!0))},q=()=>{sessionStorage.setItem("schedulerData",JSON.stringify({projectName:e,projectLocation:r,projectStart:c,projectEnd:m,phases:h,optimized:S}))};(0,s.useEffect)(()=>{let e=sessionStorage.getItem("schedulerData");if(e){let r=JSON.parse(e);a(r.projectName||""),n(r.projectLocation||""),o(r.projectStart||""),x(r.projectEnd||""),g(r.phases||[]),D(r.optimized||!1)}},[]);let A=e=>{let a=i.find(a=>a.id===e);return a?a.name:"Unknown Material"},L=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),E=e=>{let a=i.find(a=>a.id===e.materialId);return a?a.price*e.quantity:0},Q=()=>{let e=0;return h.forEach(a=>{a.materials.forEach(a=>{e+=E(a)})}),e.toLocaleString("en-US",{style:"currency",currency:"USD"})},B=e=>{switch(e){case"scheduled":return"text-blue-500";case"pending":return"text-yellow-500";case"delivered":return"text-green-500";default:return"text-gray-500"}};return(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-2 bg-primary rounded-full transition-all duration-500 ease-in-out",style:{width:"".concat("setup"===k?25:"scheduler"===k?50:"review"===k?75:"optimized"===k?90:100*("quote"===k),"%")}})}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("span",{children:"Project Setup"}),(0,t.jsx)("span",{children:"Material Scheduling"}),(0,t.jsx)("span",{children:"Review"}),(0,t.jsx)("span",{children:"Quote"})]})]}),C&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"Optimizing your schedule..."}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"This may take a moment as we analyze your project needs."})]})}),"setup"===k&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Project Setup"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Name"}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-primary focus:border-primary dark:bg-gray-800",placeholder:"Enter project name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Location"}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-primary focus:border-primary dark:bg-gray-800",placeholder:"Enter project location"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:c,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-primary focus:border-primary dark:bg-gray-800"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:m,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-primary focus:border-primary dark:bg-gray-800"})]})]}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Project Phases"}),0===h.length?(0,t.jsxs)("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg mb-6",children:[(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No phases added yet. Add project phases to continue."}),(0,t.jsx)("button",{onClick:z,className:"bg-primary hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Add First Phase"})]}):(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Phase Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timeline"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Materials"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.name}),(0,t.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[L(e.startDate)," - ",L(e.endDate)]}),(0,t.jsx)("td",{className:"px-4 py-3",children:0===e.materials.length?(0,t.jsx)("span",{className:"text-yellow-500",children:"No materials added"}):(0,t.jsxs)("span",{children:[e.materials.length," material(s)"]})}),(0,t.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[(0,t.jsx)("button",{onClick:()=>R(e.id),className:"text-blue-500 hover:text-blue-700 mr-3",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>T(e.id),className:"text-red-500 hover:text-red-700",children:"Remove"})]})]},e.id))})]})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("button",{onClick:z,className:"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-semibold py-2 px-4 rounded-lg transition-colors",children:"Add Another Phase"})})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{onClick:()=>{if(!e||!r||!c||!m||0===h.length)return void alert("Please fill out all project details and add at least one phase");w("scheduler"),q()},className:"bg-primary hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors",disabled:0===h.length,children:"Continue to Scheduling"})})]}),"scheduler"===k&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Materials Scheduling"}),(0,t.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:[(0,t.jsx)("span",{className:"font-semibold",children:e})," â€¢ ",L(c)," - ",L(m)]})]}),(0,t.jsx)("div",{className:"space-y-8",children:h.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 px-6 py-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[L(e.startDate)," - ",L(e.endDate)]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium bg-gray-200 dark:bg-gray-700",children:[e.materials.length," material(s)"]})})]}),(0,t.jsx)("div",{className:"px-6 py-4",children:0===e.materials.length?(0,t.jsxs)("div",{className:"text-center py-6",children:[(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"No materials scheduled for this phase."}),(0,t.jsx)("button",{onClick:()=>R(e.id),className:"text-primary hover:underline font-medium",children:"Add Materials"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Material"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Quantity"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Supplier"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Delivery Date"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.materials.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:A(e.materialId)}),(0,t.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.quantity," ",e.unit]}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.supplier||"Not assigned"}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.deliveryDate?L(e.deliveryDate):"Not scheduled"}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,t.jsx)("span",{className:"".concat(B(e.status)," font-medium"),children:e.status||"Pending"})})]},e.id))})]})})})]},e.id))}),(0,t.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,t.jsx)("button",{onClick:()=>w("setup"),className:"border border-gray-300 dark:border-gray-700 hover:border-primary hover:text-primary font-semibold py-2 px-6 rounded-lg transition-colors",children:"Back to Setup"}),(0,t.jsx)("button",{onClick:()=>{w("review"),q()},className:"bg-primary hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Review Schedule"})]})]}),"review"===k&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Review Your Schedule"}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Project Overview"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Project"}),(0,t.jsx)("div",{className:"font-semibold",children:e})]}),(0,t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Location"}),(0,t.jsx)("div",{className:"font-semibold",children:r})]}),(0,t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Timeline"}),(0,t.jsxs)("div",{className:"font-semibold",children:[L(c)," - ",L(m)]})]}),(0,t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Total Phases"}),(0,t.jsxs)("div",{className:"font-semibold",children:[h.length," phases"]})]})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Current Schedule"}),(0,t.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"text-yellow-500 mr-3",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Your schedule has not been optimized"}),(0,t.jsx)("p",{className:"text-yellow-600 dark:text-yellow-300",children:"Click the optimize button below to generate the most efficient delivery schedule."})]})]})}),(0,t.jsx)("div",{className:"space-y-6",children:h.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3",children:[(0,t.jsx)("h4",{className:"font-bold",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[L(e.startDate)," - ",L(e.endDate)]})]}),(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.materials.map(e=>(0,t.jsxs)("div",{className:"px-4 py-3 flex flex-wrap items-center justify-between",children:[(0,t.jsxs)("div",{className:"w-full sm:w-auto mb-2 sm:mb-0",children:[(0,t.jsx)("div",{className:"font-medium",children:A(e.materialId)}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.quantity," ",e.unit]})]}),(0,t.jsxs)("div",{className:"w-full sm:w-auto flex items-center space-x-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Supplier"}),(0,t.jsx)("div",{children:e.supplier||"Not assigned"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Delivery"}),(0,t.jsx)("div",{children:e.deliveryDate?L(e.deliveryDate):"Not scheduled"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),(0,t.jsx)("div",{className:B(e.status),children:e.status||"Pending"})]})]})]},e.id))})]},e.id))})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>w("scheduler"),className:"border border-gray-300 dark:border-gray-700 hover:border-primary hover:text-primary font-semibold py-2 px-6 rounded-lg transition-colors",children:"Back to Schedule"}),(0,t.jsx)("button",{onClick:()=>{P(!0),setTimeout(()=>{g(h.map(e=>{let a=e.materials.map(a=>{let r=i.find(e=>e.id===a.materialId),t=new Date(e.endDate).getTime()-new Date(e.startDate).getTime(),s=new Date(new Date(e.startDate).getTime()+t/2-24*((null==r?void 0:r.leadTime)||0)*36e5),d=l.filter(e=>e.materialIds.includes(a.materialId)).sort((e,a)=>a.reliability-e.reliability)[0];return{...a,deliveryDate:s.toISOString().split("T")[0],supplier:(null==d?void 0:d.name)||"Unknown",status:"scheduled"}});return{...e,materials:a}})),D(!0),w("optimized"),P(!1),q()},1500)},className:"bg-primary hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Optimize Schedule"})]})]}),"optimized"===k&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Optimized Schedule"}),(0,t.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-4 mb-8",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"text-green-500 mr-3",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-green-800 dark:text-green-200",children:"Your schedule has been optimized!"}),(0,t.jsx)("p",{className:"text-green-600 dark:text-green-300",children:"We've analyzed your project needs and created the most efficient delivery schedule."})]})]})}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Schedule at a Glance"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-100 dark:border-blue-800",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-1",children:h.length}),(0,t.jsx)("div",{className:"text-blue-800 dark:text-blue-200",children:"Project Phases"})]}),(0,t.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-100 dark:border-purple-800",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-1",children:h.reduce((e,a)=>e+a.materials.length,0)}),(0,t.jsx)("div",{className:"text-purple-800 dark:text-purple-200",children:"Material Deliveries"})]}),(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-100 dark:border-green-800",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-1",children:Q()}),(0,t.jsx)("div",{className:"text-green-800 dark:text-green-200",children:"Total Cost"})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:h.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3",children:[(0,t.jsx)("h4",{className:"font-bold",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[L(e.startDate)," - ",L(e.endDate)]})]}),(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.materials.map(e=>(0,t.jsxs)("div",{className:"px-4 py-3 flex flex-wrap items-center justify-between",children:[(0,t.jsxs)("div",{className:"w-full sm:w-auto mb-2 sm:mb-0",children:[(0,t.jsx)("div",{className:"font-medium",children:A(e.materialId)}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.quantity," ",e.unit]})]}),(0,t.jsxs)("div",{className:"w-full sm:w-auto flex items-center space-x-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Supplier"}),(0,t.jsx)("div",{children:e.supplier})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Delivery"}),(0,t.jsx)("div",{className:"font-medium text-blue-600 dark:text-blue-400",children:L(e.deliveryDate||"")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),(0,t.jsx)("div",{className:B(e.status),children:e.status})]})]})]},e.id))})]},e.id))})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>w("review"),className:"border border-gray-300 dark:border-gray-700 hover:border-primary hover:text-primary font-semibold py-2 px-6 rounded-lg transition-colors",children:"Back to Review"}),(0,t.jsx)("button",{onClick:()=>{w("quote"),q()},className:"bg-primary hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Generate Quote"})]})]}),"quote"===k&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Materials Quote"}),(0,t.jsxs)("div",{className:"mb-8 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-3xl font-bold mb-1",children:"Heavy Materials"}),(0,t.jsx)("div",{className:"text-gray-600 dark:text-gray-300",children:"Your Material Scheduling Partner"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-lg font-bold",children:["Quote #Q",Math.floor(1e4*Math.random())]}),(0,t.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Date: ",new Date().toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Project"}),(0,t.jsx)("div",{className:"font-semibold mb-2",children:e}),(0,t.jsx)("div",{className:"text-gray-600 dark:text-gray-300",children:r}),(0,t.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:[L(c)," - ",L(m)]})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Prepared For"}),(0,t.jsx)("div",{className:"font-semibold mb-2",children:"Client Name"}),(0,t.jsx)("div",{className:"text-gray-600 dark:text-gray-300",children:"client@example.com"}),(0,t.jsx)("div",{className:"text-gray-600 dark:text-gray-300",children:"(555) 123-4567"})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Materials Summary"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Material"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Quantity"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unit Price"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Delivery Date"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Subtotal"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h.flatMap(e=>e.materials.map(e=>{let a=i.find(a=>a.id===e.materialId);return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:A(e.materialId)}),(0,t.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.quantity," ",e.unit]}),(0,t.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:["$",null==a?void 0:a.price.toFixed(2)]}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:L(e.deliveryDate||"")}),(0,t.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:["$",((null==a?void 0:a.price)||0*e.quantity).toFixed(2)]})]},e.id)}))}),(0,t.jsx)("tfoot",{children:(0,t.jsxs)("tr",{className:"border-t-2 border-gray-300 dark:border-gray-600",children:[(0,t.jsx)("td",{colSpan:4,className:"px-4 py-3 text-right font-bold",children:"Total:"}),(0,t.jsx)("td",{className:"px-4 py-3 font-bold",children:Q()})]})})]})})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Delivery Schedule"}),(0,t.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-bold",children:e.name}),(0,t.jsx)("div",{className:"mt-2 space-y-2",children:e.materials.map(e=>(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{children:[A(e.materialId)," (",e.quantity," ",e.unit,")"]}),(0,t.jsx)("div",{className:"font-medium",children:L(e.deliveryDate||"")})]},e.id))})]},e.id))})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Terms & Conditions"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-600 dark:text-gray-300",children:[(0,t.jsx)("li",{children:"This quote is valid for 30 days from the date of issue."}),(0,t.jsx)("li",{children:"Delivery dates are subject to material availability and may change."}),(0,t.jsx)("li",{children:"Payment terms: 50% deposit upon acceptance, 50% upon delivery."}),(0,t.jsx)("li",{children:"Shipping and handling charges may apply."}),(0,t.jsx)("li",{children:"Returns or exchanges must be made within 7 days of delivery."})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[(0,t.jsx)("button",{onClick:()=>w("optimized"),className:"border border-gray-300 dark:border-gray-700 hover:border-primary hover:text-primary font-semibold py-2 px-6 rounded-lg transition-colors order-2 sm:order-1",children:"Back to Schedule"}),(0,t.jsxs)("div",{className:"space-x-4 order-1 sm:order-2 mb-4 sm:mb-0",children:[(0,t.jsx)("button",{className:"bg-gray-800 dark:bg-gray-200 hover:bg-gray-900 dark:hover:bg-white text-white dark:text-gray-900 font-semibold py-2 px-6 rounded-lg transition-colors",children:"Download PDF"}),(0,t.jsx)("button",{className:"bg-primary hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Accept Quote"})]})]})]}),u&&y&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:y.id?"Edit Phase":"Add New Phase"}),(0,t.jsxs)("div",{className:"grid gap-6 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phase Name"}),(0,t.jsx)("input",{type:"text",value:y.name,onChange:e=>p({...y,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-primary focus:border-primary dark:bg-gray-800",placeholder:"e.g. Foundation, Framing, Roofing, etc."})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:y.startDate,onChange:e=>p({...y,startDate:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-primary focus:border-primary dark:bg-gray-800"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:y.endDate,onChange:e=>p({...y,endDate:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-primary focus:border-primary dark:bg-gray-800"})]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Materials"}),0===y.materials.length?(0,t.jsx)("div",{className:"text-center py-6 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4",children:(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No materials added yet."})}):(0,t.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Material"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Quantity"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:y.materials.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:A(e.materialId)}),(0,t.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.quantity," ",e.unit]}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,t.jsx)("button",{onClick:()=>I(e.id),className:"text-red-500 hover:text-red-700",children:"Remove"})})]},e.id))})]})}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Add Material"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Material Type"}),(0,t.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-primary focus:border-primary dark:bg-gray-800",children:[(0,t.jsx)("option",{value:"",children:"Select Material"}),i.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," (",e.unit,")"]},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),(0,t.jsx)("input",{type:"number",min:"1",value:N||"",onChange:e=>f(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-primary focus:border-primary dark:bg-gray-800"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>{if(!y||!j||N<=0)return;let e=i.find(e=>e.id===j);if(!e)return;let a={id:M(),materialId:e.id,quantity:N,unit:e.unit,status:"pending"};p({...y,materials:[...y.materials||[],a]}),v(""),f(0)},disabled:!j||N<=0,className:"w-full bg-primary hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md transition-colors disabled:bg-gray-300 disabled:text-gray-500 dark:disabled:bg-gray-700",children:"Add"})})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)("button",{onClick:()=>{b(!1),p(null)},className:"border border-gray-300 dark:border-gray-700 hover:border-primary hover:text-primary font-semibold py-2 px-6 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:y.id?()=>{y&&(g(h.map(e=>e.id===y.id?y:e)),b(!1),p(null))}:()=>{y&&(g([...h,{...y,id:M()}]),b(!1),p(null))},disabled:!y.name||!y.startDate||!y.endDate,className:"bg-primary hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors disabled:bg-gray-300 disabled:text-gray-500 dark:disabled:bg-gray-700",children:y.id?"Update Phase":"Add Phase"})]})]})})})]})}},4667:(e,a,r)=>{Promise.resolve().then(r.bind(r,1952))},5695:(e,a,r)=>{"use strict";var t=r(8999);r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}})}},e=>{var a=a=>e(e.s=a);e.O(0,[8441,1684,7358],()=>a(4667)),_N_E=e.O()}]);