(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3241],{3642:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(5155),a=r(2115);function o(e){let{message:t,type:r="info",isLoading:o=!1,onClose:n,duration:i=5e3}=e;return(0,a.useEffect)(()=>{if(!o){let e=setTimeout(()=>{n()},i);return()=>clearTimeout(e)}},[o,n,i,t]),(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50 animate-fade-in-up",children:(0,s.jsxs)("div",{className:"rounded-lg shadow-lg p-4 max-w-md flex items-center space-x-3 border-l-4 ".concat((()=>{switch(r){case"success":return"border-green-500 bg-green-50 dark:bg-green-900/20";case"error":return"border-red-500 bg-red-50 dark:bg-red-900/20";case"warning":return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";default:return"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}})()),children:[(()=>{if(o)return(0,s.jsx)("div",{className:"animate-spin h-5 w-5 text-gray-600 dark:text-gray-300",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});switch(r){case"success":return(0,s.jsx)("div",{className:"text-green-500 dark:text-green-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return(0,s.jsx)("div",{className:"text-red-500 dark:text-red-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"warning":return(0,s.jsx)("div",{className:"text-yellow-500 dark:text-yellow-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});default:return(0,s.jsx)("div",{className:"text-blue-500 dark:text-blue-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}})(),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"text-gray-800 dark:text-white font-medium",children:t})}),(0,s.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}},3767:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5155),a=r(2115),o=r(5695),n=r(7123),i=r(3642);function l(){var e,t,r,l,d,c,u,m;let g=(0,o.useRouter)(),{quoteRequest:x,updateQuoteRequest:h,setCurrentStep:p}=(0,n.o)(),[b,y]=(0,a.useState)(x.sector||"private"),[v,f]=(0,a.useState)(x.isGovernmentContract||!1),[k,j]=(0,a.useState)(x.requiresPermits||!1),[N,w]=(0,a.useState)(""),[C,S]=(0,a.useState)((null==(e=x.customer)?void 0:e.name)||""),[q,M]=(0,a.useState)((null==(t=x.customer)?void 0:t.companyName)||""),[R,B]=(0,a.useState)((null==(r=x.customer)?void 0:r.email)||""),[L,I]=(0,a.useState)((null==(l=x.customer)?void 0:l.phone)||""),[F,P]=(0,a.useState)(!!x.budgetRange),[_,E]=(0,a.useState)((null==(c=x.budgetRange)||null==(d=c.min)?void 0:d.toString())||""),[W,z]=(0,a.useState)((null==(m=x.budgetRange)||null==(u=m.max)?void 0:u.toString())||""),[A,T]=(0,a.useState)(!1),[D,O]=(0,a.useState)(""),[Q,Y]=(0,a.useState)("info"),[$,H]=(0,a.useState)({}),J=()=>{let e={};if(C.trim()||(e.customerName="Contact name is required"),R.trim()?/^\S+@\S+\.\S+$/.test(R)||(e.email="Please enter a valid email address"):e.email="Email is required",L.trim()?/^[\d\s\(\)\-\+]+$/.test(L)||(e.phone="Please enter a valid phone number"):e.phone="Phone number is required",F){let t=parseFloat(_),r=parseFloat(W);isNaN(t)||t<=0?e.budget="Minimum budget must be a positive number":isNaN(r)||r<=0?e.budget="Maximum budget must be a positive number":t>=r&&(e.budget="Maximum budget must be greater than minimum budget")}return H(e),0===Object.keys(e).length};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Sector & Customer Information"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Tell us about your sector, any specific requirements, and your contact information."}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!J()){O("Please fix the form errors before continuing"),Y("error"),T(!0);return}h({sector:b,isGovernmentContract:v,requiresPermits:k,additionalComments:N||void 0,customer:{name:C,companyName:q||void 0,email:R,phone:L},budgetRange:F?{min:parseFloat(_),max:parseFloat(W)}:void 0}),p(3),g.push("/prototype-11/quote-request/materials")},children:[(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Sector Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Sector"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["private","public","government","residential","commercial","industrial"].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>y(e),className:"py-2 px-4 border ".concat(b===e?"bg-primary text-white border-primary":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300"," rounded-lg font-medium text-sm transition-colors capitalize text-center"),children:e},e))})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"governmentContract",type:"checkbox",checked:v,onChange:e=>f(e.target.checked),className:"h-5 w-5 text-primary focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"governmentContract",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"This is a government contract"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"requiresPermits",type:"checkbox",checked:k,onChange:e=>j(e.target.checked),className:"h-5 w-5 text-primary focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"requiresPermits",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Requires special permits"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"additionalRequirements",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Additional Requirements or Special Considerations"}),(0,s.jsx)("textarea",{id:"additionalRequirements",value:N,onChange:e=>w(e.target.value),placeholder:"Any special requirements for your sector? (e.g., compliance needs, certifications required)",rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Customer Information"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Contact Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{id:"customerName",type:"text",value:C,onChange:e=>S(e.target.value),placeholder:"Your full name",className:"w-full px-4 py-2 border ".concat($.customerName?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")}),$.customerName&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:$.customerName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name"}),(0,s.jsx)("input",{id:"companyName",type:"text",value:q,onChange:e=>M(e.target.value),placeholder:"Your company name (if applicable)",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{id:"email",type:"email",value:R,onChange:e=>B(e.target.value),placeholder:"Your email address",className:"w-full px-4 py-2 border ".concat($.email?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")}),$.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:$.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Phone ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{id:"phone",type:"tel",value:L,onChange:e=>I(e.target.value),placeholder:"Your phone number",className:"w-full px-4 py-2 border ".concat($.phone?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")}),$.phone&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:$.phone})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Budget Information (Optional)"}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"hasBudgetRange",type:"checkbox",checked:F,onChange:e=>P(e.target.checked),className:"h-5 w-5 text-primary focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"hasBudgetRange",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"I have a budget range in mind"})]})}),F&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"minBudget",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Minimum Budget ($)"}),(0,s.jsx)("input",{id:"minBudget",type:"number",value:_,onChange:e=>E(e.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-2 border ".concat($.budget?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"maxBudget",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Maximum Budget ($)"}),(0,s.jsx)("input",{id:"maxBudget",type:"number",value:W,onChange:e=>z(e.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-2 border ".concat($.budget?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")})]}),$.budget&&(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)("p",{className:"text-sm text-red-500",children:$.budget})})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{p(1),g.push("/prototype-11/quote-request/project-info")},className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,s.jsxs)("button",{type:"submit",className:"bg-primary hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center",children:["Next: Materials",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),A&&(0,s.jsx)(i.A,{message:D,type:Q,onClose:()=>T(!1)})]})}},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},5946:(e,t,r)=>{Promise.resolve().then(r.bind(r,3767))},7123:(e,t,r)=>{"use strict";r.d(t,{_:()=>l,o:()=>d});var s=r(5155),a=r(2115);let o={messages:[],currentQuestion:"Hi there! I'm your materials quoting assistant. I'd like to help you get a quote for your construction materials. To get started, could you tell me a bit about your project?",extractedData:{},completedTopics:[],confidence:0,suggestedNextSteps:["project_basics","material_needs","delivery_requirements"]},n={products:[],requestsSamples:!1,requestsConsultation:!1,needsInstallation:!1,inputMode:"ai_conversation",projectType:"new_construction"},i=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(n),[d,c]=(0,a.useState)(1),[u,m]=(0,a.useState)("ai_conversation"),[g,x]=(0,a.useState)(o),[h,p]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=sessionStorage.getItem("quoteRequestData");if(e)try{let t=JSON.parse(e);l(t),t.inputMode&&m(t.inputMode),t.aiConversation&&x(t.aiConversation)}catch(e){console.error("Error parsing saved quote data:",e)}let t=sessionStorage.getItem("quoteCurrentStep");if(t)try{c(parseInt(t,10))}catch(e){console.error("Error parsing saved step:",e)}},[]),(0,a.useEffect)(()=>{let e={...r,inputMode:u,aiConversation:"ai_conversation"===u?g:void 0};sessionStorage.setItem("quoteRequestData",JSON.stringify(e))},[r,u,g]),(0,a.useEffect)(()=>{sessionStorage.setItem("quoteCurrentStep",d.toString())},[d]),(0,s.jsx)(i.Provider,{value:{quoteRequest:r,updateQuoteRequest:e=>{console.log("Updating quote request with data:",e),l(t=>{let r={...t,...e};return console.log("Updated quote request:",r),r})},clearQuoteRequest:()=>{l(n),c(1),x(o),sessionStorage.removeItem("quoteRequestData"),sessionStorage.removeItem("quoteCurrentStep")},currentStep:d,setCurrentStep:c,totalSteps:5,inputMode:u,setInputMode:m,aiConversation:g,addAIMessage:e=>{let t={...e,timestamp:new Date};x(e=>({...e,messages:[...e.messages,t]}))},updateAIConversation:e=>{x(t=>({...t,...e}))},isLoading:h,setIsLoading:p},children:t})}function d(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useQuote must be used within a QuoteProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1684,7358],()=>t(5946)),_N_E=e.O()}]);