(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1380],{2694:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5155),a=t(2115),o=t(5695),i=t(7123),l=t(3642);function d(){var e,r,t,d,n,c,u,m,x,g;let h=(0,o.useRouter)(),{quoteRequest:p,updateQuoteRequest:v,setCurrentStep:y}=(0,i.o)(),[b,w]=(0,a.useState)((null==(e=p.deliveryAddress)?void 0:e.street)||""),[f,j]=(0,a.useState)((null==(r=p.deliveryAddress)?void 0:r.city)||""),[k,N]=(0,a.useState)((null==(t=p.deliveryAddress)?void 0:t.state)||""),[C,S]=(0,a.useState)((null==(d=p.deliveryAddress)?void 0:d.zipCode)||""),[q,I]=(0,a.useState)((null==(n=p.deliveryAddress)?void 0:n.specialInstructions)||""),[L,W]=(0,a.useState)((null==(c=p.deliveryAddress)?void 0:c.accessLimitations)||""),[M,A]=(0,a.useState)(!!p.preferredDeliveryTimeWindow),[z,D]=(0,a.useState)((null==(m=p.preferredDeliveryTimeWindow)||null==(u=m.startHour)?void 0:u.toString())||"9"),[P,T]=(0,a.useState)((null==(g=p.preferredDeliveryTimeWindow)||null==(x=g.endHour)?void 0:x.toString())||"17"),[_,E]=(0,a.useState)(!1),[R,H]=(0,a.useState)(""),[B,F]=(0,a.useState)("info"),[O,Q]=(0,a.useState)({}),Z=()=>{let e={};if(b.trim()||(e.street="Street address is required"),f.trim()||(e.city="City is required"),k.trim()||(e.state="State is required"),C.trim()?/^\d{5}(-\d{4})?$/.test(C)||(e.zipCode="Please enter a valid ZIP code (e.g., 12345 or 12345-6789)"):e.zipCode="ZIP code is required",M){let r=parseInt(z,10),t=parseInt(P,10);isNaN(r)||r<0||r>23?e.timeWindow="Start hour must be between 0 and 23":isNaN(t)||t<0||t>23?e.timeWindow="End hour must be between 0 and 23":r>=t&&(e.timeWindow="End hour must be greater than start hour")}return Q(e),0===Object.keys(e).length},J=[];for(let e=0;e<24;e++){let r=e,t=e<12?"AM":"PM",a=0===e?12:e>12?e-12:e;J.push((0,s.jsxs)("option",{value:r,children:[a,":00 ",t]},r))}return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Delivery Information"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Please provide the delivery address and any special instructions for your order."}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!Z()){H("Please fix the form errors before continuing"),F("error"),E(!0);return}v({deliveryAddress:{street:b,city:f,state:k,zipCode:C,specialInstructions:q||void 0,accessLimitations:L||void 0},preferredDeliveryTimeWindow:M?{startHour:parseInt(z,10),endHour:parseInt(P,10)}:void 0}),y(5),h.push("/prototype-11/quote-request/review")},children:[(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Delivery Address"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Street Address ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{id:"street",type:"text",value:b,onChange:e=>w(e.target.value),placeholder:"123 Main St",className:"w-full px-4 py-2 border ".concat(O.street?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")}),O.street&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:O.street})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["City ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{id:"city",type:"text",value:f,onChange:e=>j(e.target.value),placeholder:"Springfield",className:"w-full px-4 py-2 border ".concat(O.city?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")}),O.city&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:O.city})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["State ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{id:"state",type:"text",value:k,onChange:e=>N(e.target.value),placeholder:"CA",className:"w-full px-4 py-2 border ".concat(O.state?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")}),O.state&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:O.state})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["ZIP Code ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{id:"zipCode",type:"text",value:C,onChange:e=>S(e.target.value),placeholder:"12345",className:"w-full px-4 py-2 border ".concat(O.zipCode?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")}),O.zipCode&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:O.zipCode})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Delivery Instructions"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"specialInstructions",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Special Instructions (Optional)"}),(0,s.jsx)("textarea",{id:"specialInstructions",value:q,onChange:e=>I(e.target.value),rows:3,placeholder:"Any special delivery instructions? (e.g., call before delivery, gate code)",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"accessLimitations",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Access Limitations (Optional)"}),(0,s.jsx)("textarea",{id:"accessLimitations",value:L,onChange:e=>W(e.target.value),rows:3,placeholder:"Any access limitations we should be aware of? (e.g., low bridges, weight restrictions, narrow roads)",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Preferred Delivery Time"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"hasTimeWindow",type:"checkbox",checked:M,onChange:e=>A(e.target.checked),className:"h-5 w-5 text-primary focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"hasTimeWindow",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"I have a preferred delivery time window"})]}),M&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"startHour",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Time"}),(0,s.jsx)("select",{id:"startHour",value:z,onChange:e=>D(e.target.value),className:"w-full px-4 py-2 border ".concat(O.timeWindow?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"),children:J})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"endHour",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Time"}),(0,s.jsx)("select",{id:"endHour",value:P,onChange:e=>T(e.target.value),className:"w-full px-4 py-2 border ".concat(O.timeWindow?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"),children:J})]}),O.timeWindow&&(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)("p",{className:"text-sm text-red-500",children:O.timeWindow})})]}),(0,s.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-200",children:"Note: Delivery times are not guaranteed and may be affected by weather, traffic, and other factors. We will do our best to accommodate your preferred time window."})})]})})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{y(3),h.push("/prototype-11/quote-request/materials")},className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,s.jsxs)("button",{type:"submit",className:"bg-primary hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center",children:["Next: Review Quote",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),_&&(0,s.jsx)(l.A,{message:R,type:B,onClose:()=>E(!1)})]})}},3642:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var s=t(5155),a=t(2115);function o(e){let{message:r,type:t="info",isLoading:o=!1,onClose:i,duration:l=5e3}=e;return(0,a.useEffect)(()=>{if(!o){let e=setTimeout(()=>{i()},l);return()=>clearTimeout(e)}},[o,i,l,r]),(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50 animate-fade-in-up",children:(0,s.jsxs)("div",{className:"rounded-lg shadow-lg p-4 max-w-md flex items-center space-x-3 border-l-4 ".concat((()=>{switch(t){case"success":return"border-green-500 bg-green-50 dark:bg-green-900/20";case"error":return"border-red-500 bg-red-50 dark:bg-red-900/20";case"warning":return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";default:return"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}})()),children:[(()=>{if(o)return(0,s.jsx)("div",{className:"animate-spin h-5 w-5 text-gray-600 dark:text-gray-300",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});switch(t){case"success":return(0,s.jsx)("div",{className:"text-green-500 dark:text-green-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return(0,s.jsx)("div",{className:"text-red-500 dark:text-red-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"warning":return(0,s.jsx)("div",{className:"text-yellow-500 dark:text-yellow-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});default:return(0,s.jsx)("div",{className:"text-blue-500 dark:text-blue-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}})(),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"text-gray-800 dark:text-white font-medium",children:r})}),(0,s.jsx)("button",{onClick:i,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}},5695:(e,r,t)=>{"use strict";var s=t(8999);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},7123:(e,r,t)=>{"use strict";t.d(r,{_:()=>d,o:()=>n});var s=t(5155),a=t(2115);let o={messages:[],currentQuestion:"Hi there! I'm your materials quoting assistant. I'd like to help you get a quote for your construction materials. To get started, could you tell me a bit about your project?",extractedData:{},completedTopics:[],confidence:0,suggestedNextSteps:["project_basics","material_needs","delivery_requirements"]},i={products:[],requestsSamples:!1,requestsConsultation:!1,needsInstallation:!1,inputMode:"ai_conversation",projectType:"new_construction"},l=(0,a.createContext)(void 0);function d(e){let{children:r}=e,[t,d]=(0,a.useState)(i),[n,c]=(0,a.useState)(1),[u,m]=(0,a.useState)("ai_conversation"),[x,g]=(0,a.useState)(o),[h,p]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=sessionStorage.getItem("quoteRequestData");if(e)try{let r=JSON.parse(e);d(r),r.inputMode&&m(r.inputMode),r.aiConversation&&g(r.aiConversation)}catch(e){console.error("Error parsing saved quote data:",e)}let r=sessionStorage.getItem("quoteCurrentStep");if(r)try{c(parseInt(r,10))}catch(e){console.error("Error parsing saved step:",e)}},[]),(0,a.useEffect)(()=>{let e={...t,inputMode:u,aiConversation:"ai_conversation"===u?x:void 0};sessionStorage.setItem("quoteRequestData",JSON.stringify(e))},[t,u,x]),(0,a.useEffect)(()=>{sessionStorage.setItem("quoteCurrentStep",n.toString())},[n]),(0,s.jsx)(l.Provider,{value:{quoteRequest:t,updateQuoteRequest:e=>{console.log("Updating quote request with data:",e),d(r=>{let t={...r,...e};return console.log("Updated quote request:",t),t})},clearQuoteRequest:()=>{d(i),c(1),g(o),sessionStorage.removeItem("quoteRequestData"),sessionStorage.removeItem("quoteCurrentStep")},currentStep:n,setCurrentStep:c,totalSteps:5,inputMode:u,setInputMode:m,aiConversation:x,addAIMessage:e=>{let r={...e,timestamp:new Date};g(e=>({...e,messages:[...e.messages,r]}))},updateAIConversation:e=>{g(r=>({...r,...e}))},isLoading:h,setIsLoading:p},children:r})}function n(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useQuote must be used within a QuoteProvider");return e}},8427:(e,r,t)=>{Promise.resolve().then(t.bind(t,2694))}},e=>{var r=r=>e(e.s=r);e.O(0,[8441,1684,7358],()=>r(8427)),_N_E=e.O()}]);