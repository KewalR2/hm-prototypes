(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4476],{646:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(5155);s(2115);var a=s(5695),o=s(7123),n=s(6874),i=s.n(n);function u(){let{currentStep:e,totalSteps:t}=(0,o.o)();(0,a.usePathname)();let s=(e-1)/(t-1)*100;return(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"block md:hidden",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 dark:text-gray-400 mb-2",children:[(0,r.jsxs)("span",{children:["Step ",e," of ",t]}),(0,r.jsxs)("span",{children:[Math.round(s),"% Complete"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat(s,"%")}})})]}),(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute top-5 left-0 right-0 h-1 bg-gray-200 dark:bg-gray-700"}),(0,r.jsx)("div",{className:"absolute top-5 left-0 h-1 bg-primary transition-all duration-300",style:{width:"".concat(s,"%")}}),(0,r.jsx)("div",{className:"flex justify-between",children:[{number:1,name:"Project Info",path:"/prototype-11/quote-request/project-info"},{number:2,name:"Sector & Requirements",path:"/prototype-11/quote-request/sector-info"},{number:3,name:"Materials",path:"/prototype-11/quote-request/materials"},{number:4,name:"Delivery",path:"/prototype-11/quote-request/delivery"},{number:5,name:"Review",path:"/prototype-11/quote-request/review"}].map(t=>{let s=t.number===e,a=t.number<e,o=s||a;return(0,r.jsxs)(i(),{href:o?t.path:"#",className:"flex flex-col items-center relative ".concat(o?"cursor-pointer":"cursor-not-allowed opacity-50"),onClick:e=>!o&&e.preventDefault(),children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center z-10 ".concat(s?"bg-primary text-white":a?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"),children:a?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):t.number}),(0,r.jsx)("span",{className:"mt-2 text-sm font-medium ".concat(s?"text-primary":""),children:t.name})]},t.number)})})]})})]})}function l(e){let{children:t}=e;return(0,r.jsx)(o._,{children:(0,r.jsx)(c,{children:t})})}function c(e){let{children:t}=e,s=(0,a.usePathname)(),{inputMode:n}=(0,o.o)();return s.includes("/ai-assistant")?t:(0,r.jsxs)("main",{className:"container mx-auto px-4 py-12",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-10 text-center",children:"Comprehensive Quote Request"}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)(u,{}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 md:p-8",children:t})]})]})}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6972:(e,t,s)=>{Promise.resolve().then(s.bind(s,646))},7123:(e,t,s)=>{"use strict";s.d(t,{_:()=>u,o:()=>l});var r=s(5155),a=s(2115);let o={messages:[],currentQuestion:"Hi there! I'm your materials quoting assistant. I'd like to help you get a quote for your construction materials. To get started, could you tell me a bit about your project?",extractedData:{},completedTopics:[],confidence:0,suggestedNextSteps:["project_basics","material_needs","delivery_requirements"]},n={products:[],requestsSamples:!1,requestsConsultation:!1,needsInstallation:!1,inputMode:"ai_conversation",projectType:"new_construction"},i=(0,a.createContext)(void 0);function u(e){let{children:t}=e,[s,u]=(0,a.useState)(n),[l,c]=(0,a.useState)(1),[d,m]=(0,a.useState)("ai_conversation"),[p,h]=(0,a.useState)(o),[x,g]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=sessionStorage.getItem("quoteRequestData");if(e)try{let t=JSON.parse(e);u(t),t.inputMode&&m(t.inputMode),t.aiConversation&&h(t.aiConversation)}catch(e){console.error("Error parsing saved quote data:",e)}let t=sessionStorage.getItem("quoteCurrentStep");if(t)try{c(parseInt(t,10))}catch(e){console.error("Error parsing saved step:",e)}},[]),(0,a.useEffect)(()=>{let e={...s,inputMode:d,aiConversation:"ai_conversation"===d?p:void 0};sessionStorage.setItem("quoteRequestData",JSON.stringify(e))},[s,d,p]),(0,a.useEffect)(()=>{sessionStorage.setItem("quoteCurrentStep",l.toString())},[l]),(0,r.jsx)(i.Provider,{value:{quoteRequest:s,updateQuoteRequest:e=>{console.log("Updating quote request with data:",e),u(t=>{let s={...t,...e};return console.log("Updated quote request:",s),s})},clearQuoteRequest:()=>{u(n),c(1),h(o),sessionStorage.removeItem("quoteRequestData"),sessionStorage.removeItem("quoteCurrentStep")},currentStep:l,setCurrentStep:c,totalSteps:5,inputMode:d,setInputMode:m,aiConversation:p,addAIMessage:e=>{let t={...e,timestamp:new Date};h(e=>({...e,messages:[...e.messages,t]}))},updateAIConversation:e=>{h(t=>({...t,...e}))},isLoading:x,setIsLoading:g},children:t})}function l(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useQuote must be used within a QuoteProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,8441,1684,7358],()=>t(6972)),_N_E=e.O()}]);