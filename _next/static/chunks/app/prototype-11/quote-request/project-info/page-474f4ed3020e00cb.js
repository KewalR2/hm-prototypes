(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4140],{926:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5155),o=r(2115),a=r(5695),n=r(7123),i=r(3642);function l(){let e=(0,a.useRouter)(),{quoteRequest:t,updateQuoteRequest:r,setCurrentStep:l}=(0,n.o)(),[d,c]=(0,o.useState)(t.projectName||""),[u,m]=(0,o.useState)(t.projectDescription||""),[x,g]=(0,o.useState)(""),[p,h]=(0,o.useState)(""),[j,v]=(0,o.useState)(!1),[f,w]=(0,o.useState)(""),[y,b]=(0,o.useState)("info"),[k,N]=(0,o.useState)({});(0,o.useEffect)(()=>{t.desiredDeliveryDate&&g(new Date(t.desiredDeliveryDate).toISOString().split("T")[0]),t.expirationDate&&h(new Date(t.expirationDate).toISOString().split("T")[0])},[t]);let D=()=>{let e={};return d.trim()||(e.projectName="Project name is required"),u.trim()?u.trim().length<10&&(e.projectDescription="Please provide a more detailed description (at least 10 characters)"):e.projectDescription="Project description is required",N(e),0===Object.keys(e).length},S=new Date().toISOString().split("T")[0],q=new Date;q.setDate(q.getDate()+3);let C=q.toISOString().split("T")[0];return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Project Information"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Let's start with the basic details about your project. This information helps us understand your needs better."}),(0,s.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!D()){w("Please fix the form errors before continuing"),b("error"),v(!0);return}r({projectName:d,projectDescription:u,desiredDeliveryDate:x?new Date(x):void 0,expirationDate:p?new Date(p):void 0}),l(2),e.push("/prototype-11/quote-request/sector-info")},children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"projectName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Project Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{id:"projectName",type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Enter project name",className:"w-full px-4 py-2 border ".concat(k.projectName?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")}),k.projectName&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:k.projectName})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"projectDescription",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Project Description ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("textarea",{id:"projectDescription",value:u,onChange:e=>m(e.target.value),placeholder:"Provide a detailed description of your project",rows:4,className:"w-full px-4 py-2 border ".concat(k.projectDescription?"border-red-500":"border-gray-300 dark:border-gray-600"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white")}),k.projectDescription&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:k.projectDescription})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"desiredDeliveryDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Desired Delivery Date"}),(0,s.jsx)("input",{id:"desiredDeliveryDate",type:"date",value:x,onChange:e=>g(e.target.value),min:C,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Minimum 3 days from today for processing"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"expirationDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quote Expiration Date"}),(0,s.jsx)("input",{id:"expirationDate",type:"date",value:p,onChange:e=>h(e.target.value),min:S,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"How long do you need this quote to be valid?"})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end mt-8",children:(0,s.jsxs)("button",{type:"submit",className:"bg-primary hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center",children:["Next: Sector & Requirements",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),j&&(0,s.jsx)(i.A,{message:f,type:y,onClose:()=>v(!1)})]})}},3642:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155),o=r(2115);function a(e){let{message:t,type:r="info",isLoading:a=!1,onClose:n,duration:i=5e3}=e;return(0,o.useEffect)(()=>{if(!a){let e=setTimeout(()=>{n()},i);return()=>clearTimeout(e)}},[a,n,i,t]),(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50 animate-fade-in-up",children:(0,s.jsxs)("div",{className:"rounded-lg shadow-lg p-4 max-w-md flex items-center space-x-3 border-l-4 ".concat((()=>{switch(r){case"success":return"border-green-500 bg-green-50 dark:bg-green-900/20";case"error":return"border-red-500 bg-red-50 dark:bg-red-900/20";case"warning":return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";default:return"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}})()),children:[(()=>{if(a)return(0,s.jsx)("div",{className:"animate-spin h-5 w-5 text-gray-600 dark:text-gray-300",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});switch(r){case"success":return(0,s.jsx)("div",{className:"text-green-500 dark:text-green-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return(0,s.jsx)("div",{className:"text-red-500 dark:text-red-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"warning":return(0,s.jsx)("div",{className:"text-yellow-500 dark:text-yellow-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});default:return(0,s.jsx)("div",{className:"text-blue-500 dark:text-blue-400",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}})(),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"text-gray-800 dark:text-white font-medium",children:t})}),(0,s.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}},4431:(e,t,r)=>{Promise.resolve().then(r.bind(r,926))},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},7123:(e,t,r)=>{"use strict";r.d(t,{_:()=>l,o:()=>d});var s=r(5155),o=r(2115);let a={messages:[],currentQuestion:"Hi there! I'm your materials quoting assistant. I'd like to help you get a quote for your construction materials. To get started, could you tell me a bit about your project?",extractedData:{},completedTopics:[],confidence:0,suggestedNextSteps:["project_basics","material_needs","delivery_requirements"]},n={products:[],requestsSamples:!1,requestsConsultation:!1,needsInstallation:!1,inputMode:"ai_conversation",projectType:"new_construction"},i=(0,o.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,o.useState)(n),[d,c]=(0,o.useState)(1),[u,m]=(0,o.useState)("ai_conversation"),[x,g]=(0,o.useState)(a),[p,h]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=sessionStorage.getItem("quoteRequestData");if(e)try{let t=JSON.parse(e);l(t),t.inputMode&&m(t.inputMode),t.aiConversation&&g(t.aiConversation)}catch(e){console.error("Error parsing saved quote data:",e)}let t=sessionStorage.getItem("quoteCurrentStep");if(t)try{c(parseInt(t,10))}catch(e){console.error("Error parsing saved step:",e)}},[]),(0,o.useEffect)(()=>{let e={...r,inputMode:u,aiConversation:"ai_conversation"===u?x:void 0};sessionStorage.setItem("quoteRequestData",JSON.stringify(e))},[r,u,x]),(0,o.useEffect)(()=>{sessionStorage.setItem("quoteCurrentStep",d.toString())},[d]),(0,s.jsx)(i.Provider,{value:{quoteRequest:r,updateQuoteRequest:e=>{console.log("Updating quote request with data:",e),l(t=>{let r={...t,...e};return console.log("Updated quote request:",r),r})},clearQuoteRequest:()=>{l(n),c(1),g(a),sessionStorage.removeItem("quoteRequestData"),sessionStorage.removeItem("quoteCurrentStep")},currentStep:d,setCurrentStep:c,totalSteps:5,inputMode:u,setInputMode:m,aiConversation:x,addAIMessage:e=>{let t={...e,timestamp:new Date};g(e=>({...e,messages:[...e.messages,t]}))},updateAIConversation:e=>{g(t=>({...t,...e}))},isLoading:p,setIsLoading:h},children:t})}function d(){let e=(0,o.useContext)(i);if(void 0===e)throw Error("useQuote must be used within a QuoteProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1684,7358],()=>t(4431)),_N_E=e.O()}]);