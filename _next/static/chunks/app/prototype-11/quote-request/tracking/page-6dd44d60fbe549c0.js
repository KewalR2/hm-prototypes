(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3881],{2911:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(5155),a=r(2115),d=r(5695),i=r(7123),l=r(4101),n=r(3642),c=r(6874),o=r.n(c);function m(){var e,t,r,c,m,x,u;(0,d.useRouter)();let{quoteRequest:h}=(0,i.o)(),[p,g]=(0,a.useState)(null),[y,b]=(0,a.useState)(!0),[v,j]=(0,a.useState)(0),[N,f]=(0,a.useState)(null),[k,w]=(0,a.useState)("processing"),[D,I]=(0,a.useState)(!1),[S,L]=(0,a.useState)(""),[C,A]=(0,a.useState)("info");(0,a.useEffect)(()=>{b(!0);let e=sessionStorage.getItem("acceptedQuoteId");if(!e){L("No active order found. Please place an order first."),A("error"),I(!0),b(!1);return}setTimeout(()=>{try{var t;let r={id:"ORD-".concat(e.slice(-6)),quoteId:e,orderDate:new Date,estimatedDeliveryDate:new Date(Date.now()+6048e5),status:Math.random()>.7?"shipped":"processing",customer:h.customer,deliveryAddress:h.deliveryAddress,products:h.products.map(e=>{let t=(0,l.y9)(e.productId);return{...e,details:t}}),sourceHaul:{plantId:h.selectedPlantId||(null==(t=h.selectedPlantIds)?void 0:t[0])||"",truckId:"truck-001",driver:{name:"John Smith",phone:"555-123-4567",eta:new Date(Date.now()+1728e5)},currentLocation:{lat:39.7837304,lng:-86.1965858,updatedAt:new Date(Date.now()-18e5),status:"en_route"}},trackingHistory:[{timestamp:new Date(Date.now()-864e5),status:"Order placed",details:"Your order has been confirmed and is being processed"},{timestamp:new Date(Date.now()-72e6),status:"Production scheduled",details:"Materials production has been scheduled at the plant"},{timestamp:new Date(Date.now()-432e5),status:"Materials prepared",details:"Your materials have been prepared and are ready for shipping"},{timestamp:new Date(Date.now()-216e5),status:"Loaded for delivery",details:"Materials have been loaded onto the delivery truck"},{timestamp:new Date(Date.now()-72e5),status:"In transit",details:"Your order is on its way to the delivery address"}]};g(r),w(r.status),f(r.estimatedDeliveryDate),j(r.trackingHistory.length-1),b(!1)}catch(e){console.error("Error loading order data:",e),L("An error occurred while loading your order data."),A("error"),I(!0),b(!1)}},1500)},[h]);let P=()=>{if(!p)return null;let e=p.sourceHaul.plantId;return(0,l.uq)(e)},H=()=>{if(!p)return null;let e=p.sourceHaul.truckId;return(0,l.Wd)(e)},M=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),O=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("main",{className:"container mx-auto px-4 py-12",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-10 text-center",children:"Order Tracking"}),y?(0,s.jsxs)("div",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 flex flex-col items-center justify-center min-h-[400px]",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary mb-4"}),(0,s.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Loading your order details..."})]}):p?(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden mb-8",children:[(0,s.jsx)("div",{className:"bg-primary bg-opacity-10 dark:bg-opacity-20 p-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Order #",p.id]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Placed on ",M(p.orderDate)]})]}),(0,s.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 ".concat("delivered"===k?"bg-green-500":"shipped"===k?"bg-blue-500":"bg-amber-500")}),(0,s.jsx)("span",{className:"font-medium capitalize",children:k})]})]})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Shipping Address"}),(0,s.jsx)("p",{className:"font-medium",children:(null==(e=p.customer)?void 0:e.name)||"N/A"}),(0,s.jsx)("p",{children:null==(t=p.deliveryAddress)?void 0:t.street}),(0,s.jsxs)("p",{children:[null==(r=p.deliveryAddress)?void 0:r.city,", ",null==(c=p.deliveryAddress)?void 0:c.state," ",null==(m=p.deliveryAddress)?void 0:m.zipCode]}),(null==(x=p.deliveryAddress)?void 0:x.specialInstructions)&&(0,s.jsxs)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"font-medium",children:"Special Instructions:"})," ",p.deliveryAddress.specialInstructions]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Delivery Information"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Estimated Delivery:"})," ",M(N)]}),(null==(u=p.sourceHaul)?void 0:u.driver)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"mt-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"Driver:"})," ",p.sourceHaul.driver.name]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Contact:"})," ",p.sourceHaul.driver.phone]})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(o(),{href:"#",className:"text-primary hover:text-blue-600 text-sm font-medium flex items-center",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"shipped"===k?"Track Live Location":"View on Map"]})})]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Order Items"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[(0,s.jsx)("th",{className:"px-4 py-3",children:"Product"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Quantity"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right",children:"Status"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:p.products.map((e,t)=>{var r,a,d,i,n;return(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"px-4 py-4",children:[(0,s.jsx)("div",{className:"font-medium",children:(null==(r=e.details)?void 0:r.name)||"Product #".concat(e.productId)}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[null==(a=e.details)?void 0:a.category," â€¢ ",null==(d=e.details)?void 0:d.unitOfMeasure]}),e.sourcePlantId&&(0,s.jsxs)("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[(0,s.jsx)("span",{className:"font-medium",children:"Source:"})," ",(null==(i=l.Py.find(t=>t.id===e.sourcePlantId))?void 0:i.name)||"Unknown Plant"]}),e.specialInstructions&&(0,s.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(0,s.jsx)("span",{className:"font-medium",children:"Note:"})," ",e.specialInstructions]})]}),(0,s.jsxs)("td",{className:"px-4 py-4",children:[e.quantity," ",(null==(n=e.details)?void 0:n.unitOfMeasure)||"units"]}),(0,s.jsx)("td",{className:"px-4 py-4 text-right",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("delivered"===k?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"shipped"===k?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200"),children:"delivered"===k?"Delivered":"shipped"===k?"In Transit":"Preparing"})})]},t)})})]})})]})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-6",children:"Tracking Information"}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"bg-gray-200 dark:bg-gray-700 h-2 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:"".concat((()=>{let e=(null==p?void 0:p.trackingHistory.length)||0;return 0===e?0:(v+1)/e*100})(),"%")}})})}),(0,s.jsx)("div",{className:"relative",children:p.trackingHistory.map((e,t)=>(0,s.jsxs)("div",{className:"mb-8 flex",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center mr-4",children:[(0,s.jsx)("div",{className:"rounded-full w-6 h-6 flex items-center justify-center ".concat(t<=v?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500"),children:t<=v?(0,s.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,s.jsx)("span",{className:"text-xs",children:t+1})}),t<p.trackingHistory.length-1&&(0,s.jsx)("div",{className:"w-0.5 h-full ".concat(t<v?"bg-primary":"bg-gray-200 dark:bg-gray-700")})]}),(0,s.jsxs)("div",{className:"transition-opacity duration-500 ".concat(t<=v?"opacity-100":"opacity-50"),children:[(0,s.jsx)("h4",{className:"text-base font-medium text-gray-900 dark:text-white mb-1",children:e.status}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[M(e.timestamp)," at ",O(e.timestamp)]}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:e.details})]})]},t))}),(0,s.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[(0,s.jsx)("h4",{className:"text-base font-medium mb-4",children:"Shipping Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Source Information"}),(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:P()&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"font-medium",children:P().name}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:P().location}),P().specialCapabilities&&(0,s.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Capabilities:"}),P().specialCapabilities.slice(0,2).map((e,t)=>(0,s.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-1.5 py-0.5 rounded",children:e},t))]})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transportation"}),(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:H()&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"font-medium",children:H().type}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:H().description}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[(0,s.jsx)("span",{className:"font-medium",children:"Capacity:"})," ",H().capacity," units"]})]})})]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[(0,s.jsxs)(o(),{href:"/prototype-11",className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{type:"button",className:"px-6 py-2 border border-primary text-primary rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",onClick:()=>{L("Order details have been downloaded."),A("success"),I(!0)},children:"Download Details"}),(0,s.jsx)("button",{type:"button",className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>{L("Support has been contacted. They will reach out shortly."),A("success"),I(!0)},children:"Contact Support"})]})]})]}):(0,s.jsxs)("div",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center min-h-[400px] flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"No Active Order Found"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"It looks like you don't have any active orders to track. Please place an order first before tracking."}),(0,s.jsx)(o(),{href:"/prototype-11",className:"bg-primary hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-md transition-colors",children:"Start a New Quote"})]})]}),D&&(0,s.jsx)(n.A,{message:S,type:C,onClose:()=>I(!1)})]})}},4028:(e,t,r)=>{Promise.resolve().then(r.bind(r,2911))}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,4658,8441,1684,7358],()=>t(4028)),_N_E=e.O()}]);